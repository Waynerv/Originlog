{"openapi":"3.0.2","info":{"title":"originblog","version":"0.1.0"},"paths":{"/api/auth/access-token":{"post":{"tags":["Login"],"summary":"Login","operationId":"login_api_auth_access_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_auth_access_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessToken"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/me":{"get":{"tags":["User"],"summary":"Get Current User","description":"获取当前用户详情","operationId":"get_current_user_api_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["User"],"summary":"Update Current User","description":"修改当前用户信息","operationId":"update_current_user_api_users_me_put","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"query"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/posts":{"get":{"tags":["Post"],"summary":"Read Posts","description":"获取文章列表","operationId":"read_posts_api_posts_get","parameters":[{"required":true,"schema":{"title":"Page","type":"integer"},"name":"page","in":"query"},{"required":true,"schema":{"title":"Per Page","type":"integer"},"name":"per_page","in":"query"},{"description":"标题","required":false,"schema":{"title":"Title","type":"string","description":"标题"},"name":"title","in":"query"},{"description":"类型","required":false,"schema":{"title":"Type","enum":[1,2],"type":"integer","description":"类型","default":1},"name":"type","in":"query"},{"description":"是否为草稿","required":false,"schema":{"title":"Is Draft","type":"boolean","description":"是否为草稿","default":false},"name":"is_draft","in":"query"},{"description":"分类id","required":false,"schema":{"title":"Category Id","type":"integer","description":"分类id"},"name":"category_id","in":"query"},{"description":"标签id","required":false,"schema":{"title":"Tag Id","type":"integer","description":"标签id"},"name":"tag_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostPage"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Post"],"summary":"Create Post","description":"新增文章","operationId":"create_post_api_posts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostBaseOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/posts/{post_id}":{"get":{"tags":["Post"],"summary":"Read Post By Id","description":"获取文章详情","operationId":"read_post_by_id_api_posts__post_id__get","parameters":[{"required":true,"schema":{"title":"Post Id","type":"integer"},"name":"post_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Post"],"summary":"Update Post","description":"更新文章详情","operationId":"update_post_api_posts__post_id__put","parameters":[{"required":true,"schema":{"title":"Post Id","type":"integer"},"name":"post_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Post"],"summary":"Delete Post","description":"删除文章","operationId":"delete_post_api_posts__post_id__delete","parameters":[{"required":true,"schema":{"title":"Post Id","type":"integer"},"name":"post_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/categories":{"get":{"tags":["Category"],"summary":"Read Categories","description":"获取分类列表","operationId":"read_categories_api_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Categories Api Categories Get","type":"array","items":{"$ref":"#/components/schemas/CategoryOut"}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}}}},"post":{"tags":["Category"],"summary":"Create Category","description":"创建新分类","operationId":"create_category_api_categories_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/categories/{category_id}":{"put":{"tags":["Category"],"summary":"Update Category","description":"修改分类","operationId":"update_category_api_categories__category_id__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Category"],"summary":"Delete Category","description":"删除分类","operationId":"delete_category_api_categories__category_id__delete","parameters":[{"required":true,"schema":{"title":"Category Id","type":"integer"},"name":"category_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/tags":{"get":{"tags":["Tag"],"summary":"Read Tags","description":"获取标签列表","operationId":"read_tags_api_tags_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Tags Api Tags Get","type":"array","items":{"$ref":"#/components/schemas/TagOut"}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}}}},"post":{"tags":["Tag"],"summary":"Create Tag","description":"创建新标签","operationId":"create_tag_api_tags_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/tags/{tag_id}":{"put":{"tags":["Tag"],"summary":"Update Tag","description":"修改标签","operationId":"update_tag_api_tags__tag_id__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Tag"],"summary":"Delete Tag","description":"删除标签","operationId":"delete_tag_api_tags__tag_id__delete","parameters":[{"required":true,"schema":{"title":"Tag Id","type":"integer"},"name":"tag_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1":{"get":{"summary":"Root","operationId":"root_api_v1_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AccessToken":{"title":"AccessToken","required":["access_token","token_type"],"type":"object","properties":{"access_token":{"title":"Access Token","type":"string"},"token_type":{"title":"Token Type","type":"string"}}},"Body_login_api_auth_access_token_post":{"title":"Body_login_api_auth_access_token_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"CategoryCreate":{"title":"CategoryCreate","required":["name"],"type":"object","properties":{"name":{"title":"分类名称","maxLength":32,"type":"string"}}},"CategoryOut":{"title":"CategoryOut","required":["name","id"],"type":"object","properties":{"name":{"title":"分类名称","maxLength":32,"type":"string"},"id":{"title":"Id","type":"integer"}}},"CategoryUpdate":{"title":"CategoryUpdate","required":["name"],"type":"object","properties":{"name":{"title":"分类名称","maxLength":32,"type":"string"}}},"ErrorOut":{"title":"ErrorOut","required":["type","message","status"],"type":"object","properties":{"type":{"title":"Type","type":"string"},"message":{"title":"Message","type":"string"},"status":{"title":"Status","type":"integer"},"detail":{"title":"Detail","type":"array","items":{}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Pagination":{"title":"Pagination","required":["page","per_page","pages","total"],"type":"object","properties":{"page":{"title":"Page","type":"integer"},"per_page":{"title":"Per Page","type":"integer"},"pages":{"title":"Pages","type":"integer"},"total":{"title":"Total","type":"integer"}}},"PostBaseOut":{"title":"PostBaseOut","required":["title","summary","id","category_name","tag_names","created_at","updated_at"],"type":"object","properties":{"title":{"title":"标题","maxLength":255,"type":"string"},"summary":{"title":"摘要","maxLength":255,"type":"string"},"id":{"title":"Id","type":"integer"},"category_name":{"title":"分类名称","type":"string"},"tag_names":{"title":"标签名称集合","type":"array","items":{"type":"string"}},"created_at":{"title":"创建时间","type":"string","format":"date-time"},"updated_at":{"title":"最后更新时间","type":"string","format":"date-time"}}},"PostCreate":{"title":"PostCreate","required":["title","summary","slug","content","category_id","tag_ids"],"type":"object","properties":{"title":{"title":"标题","maxLength":255,"type":"string"},"summary":{"title":"摘要","maxLength":255,"type":"string"},"slug":{"title":"Slug","maxLength":128,"type":"string"},"content":{"title":"正文","type":"string"},"type":{"title":"类型","enum":[1,2],"type":"integer","default":1},"is_draft":{"title":"是否为草稿","type":"boolean","default":false},"can_comment":{"title":"是否允许评论","type":"boolean","default":true},"category_id":{"title":"分类id","type":"integer"},"tag_ids":{"title":"标签id集合","type":"array","items":{"type":"integer"}}}},"PostOut":{"title":"PostOut","required":["title","summary","id","category_name","tag_names","created_at","updated_at","slug","content","category_id","tag_ids"],"type":"object","properties":{"title":{"title":"标题","maxLength":255,"type":"string"},"summary":{"title":"摘要","maxLength":255,"type":"string"},"id":{"title":"Id","type":"integer"},"category_name":{"title":"分类名称","type":"string"},"tag_names":{"title":"标签名称集合","type":"array","items":{"type":"string"}},"created_at":{"title":"创建时间","type":"string","format":"date-time"},"updated_at":{"title":"最后更新时间","type":"string","format":"date-time"},"slug":{"title":"Slug","maxLength":128,"type":"string"},"content":{"title":"正文","type":"string"},"type":{"title":"类型","enum":[1,2],"type":"integer","default":1},"is_draft":{"title":"是否为草稿","type":"boolean","default":false},"can_comment":{"title":"是否允许评论","type":"boolean","default":true},"category_id":{"title":"分类id","type":"integer"},"tag_ids":{"title":"标签id集合","type":"array","items":{"type":"integer"}}}},"PostPage":{"title":"PostPage","required":["data"],"type":"object","properties":{"data":{"title":"Data","type":"array","items":{"$ref":"#/components/schemas/PostPageOut"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"PostPageOut":{"title":"PostPageOut","required":["title","summary","id","category_name","tag_names","created_at","updated_at"],"type":"object","properties":{"title":{"title":"标题","maxLength":255,"type":"string"},"summary":{"title":"摘要","maxLength":255,"type":"string"},"id":{"title":"Id","type":"integer"},"category_name":{"title":"分类名称","type":"string"},"tag_names":{"title":"标签名称集合","type":"array","items":{"type":"string"}},"created_at":{"title":"创建时间","type":"string","format":"date-time"},"updated_at":{"title":"最后更新时间","type":"string","format":"date-time"}}},"PostUpdate":{"title":"PostUpdate","required":["title","summary","slug","content","category_id","tag_ids"],"type":"object","properties":{"title":{"title":"标题","maxLength":255,"type":"string"},"summary":{"title":"摘要","maxLength":255,"type":"string"},"slug":{"title":"Slug","maxLength":128,"type":"string"},"content":{"title":"正文","type":"string"},"type":{"title":"类型","enum":[1,2],"type":"integer","default":1},"is_draft":{"title":"是否为草稿","type":"boolean","default":false},"can_comment":{"title":"是否允许评论","type":"boolean","default":true},"category_id":{"title":"分类id","type":"integer"},"tag_ids":{"title":"标签id集合","type":"array","items":{"type":"integer"}}}},"TagCreate":{"title":"TagCreate","required":["name"],"type":"object","properties":{"name":{"title":"标签名称","maxLength":32,"type":"string"}}},"TagOut":{"title":"TagOut","required":["name","id"],"type":"object","properties":{"name":{"title":"标签名称","maxLength":32,"type":"string"},"id":{"title":"Id","type":"integer"}}},"TagUpdate":{"title":"TagUpdate","required":["name"],"type":"object","properties":{"name":{"title":"标签名称","maxLength":32,"type":"string"}}},"UserOut":{"title":"UserOut","required":["email","name","avatar","id"],"type":"object","properties":{"email":{"title":"邮箱","maxLength":64,"type":"string"},"name":{"title":"姓名","maxLength":64,"type":"string"},"avatar":{"title":"头像地址","maxLength":128,"type":"string"},"id":{"title":"Id","type":"integer"}}},"UserUpdate":{"title":"UserUpdate","required":["email","name","avatar"],"type":"object","properties":{"email":{"title":"邮箱","maxLength":64,"type":"string"},"name":{"title":"姓名","maxLength":64,"type":"string"},"avatar":{"title":"头像地址","maxLength":128,"type":"string"},"password":{"title":"密码","maxLength":16,"type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/auth/access-token"}}}}}}